<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Happy 2nd Monthsary</title>
  <style>
    :root{
      /* Scales nicely across devices */
      --space-lg: clamp(20px, 4vw, 40px);
      --space-md: clamp(12px, 2.8vw, 20px);
      --space-sm: clamp(8px, 2vw, 14px);
      --font-title: clamp(1.25rem, 4.5vw, 2rem);
      --font-h1: clamp(1.4rem, 5.8vw, 2.5rem);
      --font-h2: clamp(1.1rem, 4.6vw, 1.8rem);
      --font-body: clamp(0.95rem, 3.6vw, 1.1rem);
      --radius-xl: 20px;
      --radius-lg: 16px;
      --btn-pad-y: clamp(10px, 2.6vw, 15px);
      --btn-pad-x: clamp(16px, 4vw, 30px);
    }

    *{margin:0;padding:0;box-sizing:border-box}

    body{
      font-family:'Georgia',serif;
      background:linear-gradient(135deg,#ff6b9d,#ff8e8e,#ffa8a8,#ff6b9d);
      background-size:400% 400%;
      animation:gradientShift 6s ease infinite;
      min-height:100vh;
      overflow-x:hidden;
      padding-bottom: env(safe-area-inset-bottom);
    }
    @keyframes gradientShift{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    /* Floating Hearts */
    .heart{position:absolute;color:rgba(255,255,255,.8);font-size:20px;animation:float 6s linear infinite;pointer-events:none}
    @keyframes float{0%{transform:translateY(100vh) rotate(0);opacity:1}100%{transform:translateY(-100px) rotate(360deg);opacity:0}}

    /* Login */
    .login-container{
      display:flex;justify-content:center;align-items:center;min-height:100vh;
      padding: var(--space-md);
    }
    .login-box{
      background:rgba(255,255,255,.95);
      padding: clamp(22px, 5vw, 40px);
      border-radius: var(--radius-xl);
      box-shadow: 0 16px 36px rgba(0,0,0,.12);
      text-align:center;max-width:min(92vw, 440px);width:100%;
      backdrop-filter:blur(10px);animation:slideInUp 1s ease-out;
    }
    @keyframes slideInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    .login-title{color:#d63384;font-size:var(--font-title);margin-bottom:10px;text-shadow:0 1px 0 rgba(0,0,0,.05)}
    .login-subtitle{color:#666;margin-bottom:var(--space-sm);font-style:italic;font-size:var(--font-body)}

    /* hide original input/button (keypad handles input) */
    .password-input,.login-btn{display:none!important}

    .error-message{color:#d63384;margin-top:10px;opacity:0;transition:opacity .3s ease}
    .error-message.show{opacity:1;animation:shake .5s ease-in-out}
    @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}

    /* Dashboard */
    .dashboard{display:none;padding:var(--space-md);text-align:center;min-height:100vh}
    .dashboard-title{
      color:#fff;font-size:var(--font-h1);margin:var(--space-lg) 0;
      text-shadow:3px 3px 6px rgba(0,0,0,.3);animation:titlePulse 2s ease-in-out infinite alternate
    }
    @keyframes titlePulse{from{transform:scale(1)}to{transform:scale(1.05)}}

    /* ICONS: now VERTICAL alignment */
    .icons-container{
      display:flex;
      flex-direction: column;          /* <- vertical stack */
      align-items: center;             /* center horizontally */
      justify-content: flex-start;
      gap: clamp(14px, 5vw, 28px);     /* vertical spacing */
      margin: clamp(28px, 9vw, 48px) auto;
      width: min(92vw, 520px);         /* keep a nice column width */
    }
    .icon-item{
      background:rgba(255,255,255,.9);
      width: clamp(84px, 22vw, 120px); height: clamp(84px, 22vw, 120px); border-radius:50%;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      cursor:pointer; transition: transform .25s ease, box-shadow .25s ease;
      box-shadow:0 10px 24px rgba(0,0,0,.18);
      animation:iconFloat 3s ease-in-out infinite;
    }
    .icon-item:nth-child(2){animation-delay:1s}
    .icon-item:nth-child(3){animation-delay:2s}
    @keyframes iconFloat{0%,100%{transform:translateY(0) rotate(0)}50%{transform:translateY(-8px) rotate(4deg)}}
    .icon-item:hover{transform:scale(1.08) rotate(6deg);box-shadow:0 16px 36px rgba(214,51,132,.35)}
    .icon-item i{font-size: clamp(1.6rem, 6vw, 2.5rem); color:#d63384; margin-bottom:6px}
    .icon-item span{color:#666;font-size: clamp(.8rem, 3.4vw, .95rem); font-weight:bold}

    /* Modals */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:1000;animation:fadeIn .3s ease}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .modal-content{
      position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
      background:#fff;padding: clamp(18px, 4.5vw, 30px);
      border-radius: var(--radius-xl);
      width: min(95vw, 760px);
      max-height: 90vh;
      overflow-y: auto; /* scroll inside modal if needed */
      animation:slideIn .5s ease;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
    }
    @keyframes slideIn{from{opacity:0;transform:translate(-50%,-60%)}to{opacity:1;transform:translate(-50%,-50%)}}
    .close-btn{position:absolute;top:12px;right:16px;font-size:2rem;cursor:pointer;color:#666;line-height:1}
    .close-btn:hover{opacity:.85}

    /* Photo Modal */
    .photo-container{text-align:center}
    .couple-photo{max-width:100%;height:auto;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,.3);margin:20px 0}
    .photo-title{color:#d63384;font-size:var(--font-h2);margin-bottom:12px}

    /* Music Modal */
    .music-player{text-align:center;padding: var(--space-sm)}
    .album-art{
      width: clamp(120px, 36vw, 200px);
      height: clamp(120px, 36vw, 200px);
      border-radius:50%; margin:0 auto 16px;
      background:linear-gradient(45deg,#ff6b9d,#d63384);
      display:flex; align-items:center; justify-content:center; animation:rotate 10s linear infinite;
    }
    @keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    .album-art img{
      width: calc(100% - 20px); height: calc(100% - 20px);
      border-radius:50%; object-fit:cover;
    }
    .song-info{margin: 12px 0}
    .song-title{font-size: clamp(1.1rem, 4.4vw, 1.5rem); color:#d63384; margin-bottom:6px}
    .artist-name{color:#666;font-style:italic; font-size: var(--font-body)}
    .play-btn{
      background:linear-gradient(45deg,#d63384,#ff6b9d); color:#fff; border:none;
      padding: var(--btn-pad-y) var(--btn-pad-x);
      border-radius:50px; font-size: clamp(0.95rem, 3.8vw, 1.1rem); cursor:pointer;
      transition:all .25s ease; margin: 12px 8px;
      box-shadow: 0 8px 18px rgba(214,51,132,.22);
    }
    .play-btn:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(214,51,132,.28)}

    /* Letter Modal (FULL modal background with picture3.jpg) */
    #letter-modal{
      background-image: url('picture3.jpg');
      background-size: cover;
      background-position: center;
      position: fixed;
    }
    #letter-modal::before{
      content:"";
      position:absolute; inset:0;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(3px);
      -webkit-backdrop-filter: blur(3px);
      z-index:0;
    }
    #letter-modal .modal-content{
      background: transparent;
      position: relative;
      z-index: 1;
      overflow-y: auto;
      max-height: 90vh;
      -webkit-overflow-scrolling: touch;
    }
    #letter-modal .close-btn{ color:#f5f5f5; text-shadow:0 2px 8px rgba(0,0,0,.45) }

    .letter-container{max-width:600px;margin:0 auto;position:relative;z-index:1; padding: clamp(6px, 2vw, 10px)}
    .letter-title{color:#ffd9e9;font-size:var(--font-h2);text-align:center;margin-bottom: clamp(14px, 3.8vw, 22px); text-shadow:0 2px 8px rgba(0,0,0,.45)}
    .letter-content{
      font-size:var(--font-body); line-height:1.8; color:#333; text-align:justify; padding: clamp(14px, 3.6vw, 20px);
      background:rgba(255,255,255,.92); border-radius: var(--radius-lg); border-left:5px solid #d63384;
    }
    .letter-signature{text-align:right;margin-top: clamp(16px, 3.8vw, 30px); font-style:italic; color:#d63384; font-size: clamp(1rem, 3.8vw, 1.2rem)}

    /* ===== PIN keypad (CIRCLE DOTS) ===== */
    .pin-dots{
      display:flex;justify-content:center;
      gap: clamp(6px, 2.4vw, 10px); margin: 10px 0 14px
    }
    .pin-dot{
      width: clamp(18px, 5.6vw, 24px);
      height: clamp(18px, 5.6vw, 24px);
      border-radius: 50%;
      border: 2px solid #ff9fc3;
      background: transparent;
      box-shadow: 0 1px 2px rgba(214,51,132,.15) inset, 0 1px 2px rgba(0,0,0,.06);
      transition: background .2s ease, border-color .2s ease, transform .2s ease;
    }
    .pin-dot.filled{
      background: #d63384;
      border-color: #d63384;
      transform: scale(1.05);
      box-shadow: 0 2px 6px rgba(214,51,132,.35);
    }
    .pin-dots.shake{animation:shake .5s ease-in-out}

    .keypad{
      display:grid;
      grid-template-columns: repeat(3, minmax(64px, clamp(72px, 26vw, 100px)));
      grid-auto-rows: minmax(64px, clamp(72px, 26vw, 100px));
      gap: clamp(10px, 3.4vw, 14px);
      place-items:center; margin-top:6px;
    }
    .heart-key{
      position:relative;
      width: clamp(60px, 20vw, 74px);
      height: clamp(60px, 20vw, 74px);
      border:none; cursor:pointer; outline:none;
      background:radial-gradient(circle at 30% 30%,#ff8bb3,#d63384);
      border-radius:50%; box-shadow:0 10px 22px rgba(214,51,132,.22);
      transition:transform .12s ease,filter .12s ease,box-shadow .12s ease;
      touch-action: manipulation;
    }
    .heart-key .num{
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
      color:#fff; font-weight:800; font-size: clamp(1rem, 4.2vw, 1.25rem); text-shadow:0 1px 0 rgba(0,0,0,.15); user-select:none
    }
    .heart-key:active{transform:translateY(2px) scale(.98);filter:brightness(.97);box-shadow:0 6px 14px rgba(214,51,132,.2)}
    .key-secondary{background:radial-gradient(circle at 30% 30%,#ffd3e6,#ff8dbb)}
    .key-confirm{background:radial-gradient(circle at 30% 30%,#ff6fa6,#ff3a84)}
    .hint{font-size: clamp(.85rem, 3.4vw, .95rem); color:#888; margin-top:8px}

    /* Make modals more usable on very short screens */
    @media (max-height: 640px){
      .modal-content{max-height: 92vh}
      #letter-modal .modal-content{max-height: 92vh}
    }

    /* Extra-small phones (down to ~320px) */
    @media (max-width:360px){
      .login-box{padding:16px; border-radius:14px}
      .modal-content{width:96vw; padding:14px; border-radius:14px}
      .keypad{
        grid-template-columns: repeat(3, minmax(58px, 1fr));
        grid-auto-rows: minmax(58px, 1fr);
        gap: 10px;
      }
      .heart-key{width:62px;height:62px}
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
</head>
<body>
  <!-- Floating Hearts -->
  <div id="hearts-container"></div>

  <!-- Login Page -->
  <div id="login-page" class="login-container">
    <div class="login-box">
      <h1 class="login-title">💕 Our Special Day</h1>
      <p class="login-subtitle">Enter our anniversary PIN (MMDDYY)</p>

      <!-- PIN dots -->
      <div id="pinDots" class="pin-dots" aria-label="PIN progress">
        <span class="pin-dot"></span><span class="pin-dot"></span><span class="pin-dot"></span>
        <span class="pin-dot"></span><span class="pin-dot"></span><span class="pin-dot"></span>
      </div>

      <!-- Circular Keypad -->
      <div class="keypad" aria-label="Heart keypad">
        <button class="heart-key" data-key="1"><span class="num">1</span></button>
        <button class="heart-key" data-key="2"><span class="num">2</span></button>
        <button class="heart-key" data-key="3"><span class="num">3</span></button>

        <button class="heart-key" data-key="4"><span class="num">4</span></button>
        <button class="heart-key" data-key="5"><span class="num">5</span></button>
        <button class="heart-key" data-key="6"><span class="num">6</span></button>

        <button class="heart-key" data-key="7"><span class="num">7</span></button>
        <button class="heart-key" data-key="8"><span class="num">8</span></button>
        <button class="heart-key" data-key="9"><span class="num">9</span></button>

        <button class="heart-key key-secondary" data-action="clear"><span class="num">C</span></button>
        <button class="heart-key" data-key="0"><span class="num">0</span></button>
        <button class="heart-key key-confirm" data-action="enter"><span class="num">✓</span></button>
      </div>

      <div class="hint">I Love You So Much My One and Only Wife, Pat.</div>

      <!-- kept for compatibility, but hidden by CSS -->
      <input type="password" id="password" class="password-input" placeholder="MMDDYY" maxlength="6"/>
      <button onclick="checkPassword()" class="login-btn"><i class="fas fa-heart"></i> Enter</button>

      <div id="error-message" class="error-message">Sorry, Try Again</div>
    </div>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="dashboard">
    <h1 class="dashboard-title">Happy 2nd Monthsary Misis ko! 💖</h1>

    <div class="icons-container">
      <div class="icon-item" onclick="openModal('photo-modal')">
        <i class="fas fa-camera"></i>
        <span>Our Photo</span>
      </div>
      <div class="icon-item" onclick="openModal('music-modal')">
        <i class="fas fa-music"></i>
        <span>Our Song</span>
      </div>
      <div class="icon-item" onclick="openModal('letter-modal')">
        <i class="fas fa-envelope"></i>
        <span>My Letter</span>
      </div>
    </div>
  </div>

  <!-- Photo Modal -->
  <div id="photo-modal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('photo-modal')">&times;</span>
      <div class="photo-container">
        <h2 class="photo-title">Our Beautiful Moments 📸</h2>
        <img src="picture1.jpg" alt="Our Photo" class="couple-photo"/>
        <p style="color:#666;font-style:italic;margin-top:15px;">Every moment with you is the best scenery for me ❤️</p>
      </div>
    </div>
  </div>

  <!-- Music Modal -->
  <div id="music-modal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('music-modal')">&times;</span>
      <div class="music-player">
        <div class="album-art" id="albumArt">
          <img src="picture2.jpg" alt="Album Art"/>
        </div>
        <div class="song-info">
          <div class="song-title">Our Love Song 🎵</div>
          <div class="artist-name">Dedicated to my Misis</div>
        </div>
        <button class="play-btn" onclick="toggleMusic()">
          <i class="fas fa-play" id="playIcon"></i> <span id="playText">Play</span>
        </button>
        <button class="play-btn" onclick="stopMusic()">
          <i class="fas fa-stop"></i> Stop
        </button>
        <p style="color:#666;margin-top:20px;font-style:italic;">This song reminds me of you every time I hear it 💕</p>
      </div>
      <audio id="loveAudio" src="music.mp3" preload="auto"></audio>
    </div>
  </div>

  <!-- Letter Modal -->
  <div id="letter-modal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('letter-modal')">&times;</span>
      <div class="letter-container">
        <h2 class="letter-title">Happy 2nd Monthsary Misis ko</h2>
        <div class="letter-content">
          <p>My Dearest Misis,</p>

          <p>Happy 2nd Monthsary! Thank you for everything, especially for staying with me through my lowest days. Thank you for choosing me, for your patience, and for loving me even with my flaws. Every day with you feels like a beautiful dream I never want to wake up from.</p>

          <p>I love you so much. I will keep choosing you, today, tomorrow, and for the rest of my life. You are amazing—caring, thoughtful, and so full of love. I am proud of you, and I am proud to love you.</p>

          <p>I miss you every day. The distance is hard, but it will not beat us. We will wait, we will be strong, and we will meet again soon. Just a little more patience, my love.</p>

          <p>Thank you for believing in us, for the laughs, the late-night chats, the honest talks, and the way you make ordinary moments feel special. I promise to keep showing up for you, to listen better, and to love you in a way that makes you feel safe and seen.</p>

          <p>You are my home, my favorite person, my today and all of my tomorrows. ❤️</p>

          <div class="letter-signature">Forever yours,<br/>Your loving Husband, RJ 💕</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* ====== PIN CONFIG ====== */
    const REQUIRED_PIN = "072925";
    const PIN_LENGTH = REQUIRED_PIN.length;

    let isPlaying = false;
    let musicInterval;

    // Floating hearts
    function createHeart(){
      const heart=document.createElement('div');
      heart.className='heart';
      heart.innerHTML=Math.random()>0.5?'❤️':'💕';
      heart.style.left=Math.random()*100+'vw';
      heart.style.animationDuration=(Math.random()*3+3)+'s';
      document.getElementById('hearts-container').appendChild(heart);
      setTimeout(()=>heart.remove(),6000);
    }
    setInterval(createHeart,300);

    // Keypad logic
    let pinValue="";
    const dotsEl=document.getElementById('pinDots');

    function updateDots(){
      const dots=dotsEl.querySelectorAll('.pin-dot');
      dots.forEach((d,i)=>d.classList.toggle('filled',i<pinValue.length));
    }
    function clearPin(animated=false){
      pinValue=""; updateDots();
      if(animated){dotsEl.classList.add('shake'); setTimeout(()=>dotsEl.classList.remove('shake'),500);}
    }
    function verifyPin(){
      const errorMessage=document.getElementById('error-message');
      if(pinValue===REQUIRED_PIN){
        document.getElementById('login-page').style.display='none';
        document.getElementById('dashboard').style.display='block';
        document.getElementById('dashboard').style.animation='fadeIn 1s ease-in-out';
        for(let i=0;i<20;i++) setTimeout(createHeart,i*100);
      }else{
        errorMessage.classList.add('show');
        clearPin(true);
        setTimeout(()=>errorMessage.classList.remove('show'),1200);
      }
    }
    function handleDigit(d){
      if(pinValue.length>=PIN_LENGTH) return;
      pinValue+=String(d);
      updateDots();
      if(pinValue.length===PIN_LENGTH) verifyPin();
    }

    document.querySelectorAll('.heart-key').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const key=btn.getAttribute('data-key');
        const action=btn.getAttribute('data-action');
        if(key!==null){handleDigit(key);}
        else if(action==='clear'){clearPin();}
        else if(action==='enter'){verifyPin();}
      }, {passive:true});
    });

    window.addEventListener('keydown',e=>{
      if(document.getElementById('dashboard').style.display==='block') return;
      if(/^[0-9]$/.test(e.key)) handleDigit(e.key);
      else if(e.key==='Backspace'){pinValue=pinValue.slice(0,-1); updateDots();}
      else if(e.key.toLowerCase()==='c'||e.key==='Escape'){clearPin();}
      else if(e.key==='Enter'){verifyPin();}
    });

    function checkPassword(){ verifyPin(); } // compatibility

    // Call once to ensure dots start unfilled
    document.addEventListener('DOMContentLoaded', updateDots);

    // Modals
    function openModal(id){
      document.getElementById(id).style.display='block';
      if(id==='music-modal'){ document.getElementById('albumArt').style.animationPlayState='running'; }
      for(let i=0;i<10;i++) setTimeout(createHeart,i*50);
    }
    function closeModal(id){
      document.getElementById(id).style.display='none';
      if(id==='music-modal'){ stopMusic(); }
    }

    // Music
    const audioEl=document.getElementById('loveAudio');
    function toggleMusic(){
      const playIcon=document.getElementById('playIcon');
      const playText=document.getElementById('playText');
      const albumArt=document.getElementById('albumArt');
      if(!isPlaying){
        audioEl.play().catch(()=>{});
        playIcon.className='fas fa-pause'; playText.textContent='Pause';
        albumArt.style.animationPlayState='running';
        isPlaying=true;
        musicInterval=setInterval(createHeart,500);
      }else{
        audioEl.pause();
        playIcon.className='fas fa-play'; playText.textContent='Play';
        albumArt.style.animationPlayState='paused';
        isPlaying=false; clearInterval(musicInterval);
      }
    }
    function stopMusic(){
      const playIcon=document.getElementById('playIcon');
      const playText=document.getElementById('playText');
      const albumArt=document.getElementById('albumArt');
      audioEl.pause(); audioEl.currentTime=0;
      playIcon.className='fas fa-play'; playText.textContent='Play';
      albumArt.style.animationPlayState='paused';
      isPlaying=false; clearInterval(musicInterval);
    }

    // Close when clicking backdrop
    window.onclick=function(e){
      const modals=document.querySelectorAll('.modal');
      modals.forEach(m=>{
        if(e.target===m){
          m.style.display='none';
          if(m.id==='music-modal') stopMusic();
        }
      });
    }

    // Startup sparkle
    window.addEventListener('load',function(){
      for(let i=0;i<15;i++) setTimeout(createHeart,i*200);
    });
  </script>
</body>
</html>
